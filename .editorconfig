# ktlint Configuration for PetSpot Static Analysis
# Version: 1.0.0
# Date: 2025-11-19
#
# This EditorConfig file defines code formatting rules for Kotlin code in:
# - /shared module (Kotlin Multiplatform shared code)
# - /composeApp module (Android-specific code)
#
# Usage:
# - Copy this file to repository root as '.editorconfig' (or merge with existing)
# - ktlint will automatically detect and use these rules
# - Run formatting: ./gradlew ktlintFormat
# - Run check: ./gradlew ktlintCheck
#
# ktlint documentation: https://pinterest.github.io/ktlint/
# EditorConfig spec: https://editorconfig.org/

root = true

# Default settings for all files
[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

# Kotlin source files
[*.{kt,kts}]
indent_size = 4
indent_style = space
max_line_length = 120

# Kotlin-specific formatting
ij_kotlin_align_multiline_binary_operation = false
ij_kotlin_align_multiline_extends_list = false
ij_kotlin_align_multiline_method_brackets = false
ij_kotlin_align_multiline_parameters = true
ij_kotlin_align_multiline_parameters_in_calls = false
ij_kotlin_allow_trailing_comma = true
ij_kotlin_allow_trailing_comma_on_call_site = true

# Imports
ij_kotlin_name_count_to_use_star_import = 999
ij_kotlin_name_count_to_use_star_import_for_members = 999
ij_kotlin_packages_to_use_import_on_demand = unset

# Blank lines
ij_kotlin_blank_lines_after_class_header = 0
ij_kotlin_blank_lines_around_block_when_branches = 0
ij_kotlin_blank_lines_before_declaration_with_comment_or_annotation_on_separate_line = 1
ij_kotlin_line_break_after_multiline_when_entry = true

# Wrapping and braces
ij_kotlin_continuation_indent_for_chained_calls = true
ij_kotlin_continuation_indent_for_expression_bodies = true
ij_kotlin_continuation_indent_in_argument_lists = true
ij_kotlin_continuation_indent_in_elvis = true
ij_kotlin_continuation_indent_in_if_conditions = true
ij_kotlin_continuation_indent_in_parameter_lists = true
ij_kotlin_continuation_indent_in_supertype_lists = true

# Method parameters
ij_kotlin_method_parameters_new_line_after_left_paren = false
ij_kotlin_method_parameters_right_paren_on_new_line = false
ij_kotlin_method_parameters_wrap = off

# Chained method calls
ij_kotlin_wrap_expression_body_functions = 1
ij_kotlin_wrap_first_method_in_call_chain = false

# Assignment
ij_kotlin_assignment_wrap = off
ij_kotlin_wrap_elvis_expressions = 1

# ktlint standard rules configuration
# Disable specific rules by uncommenting the lines below

# Allow wildcard imports (e.g., import kotlinx.coroutines.*)
ktlint_standard_no-wildcard-imports = disabled

# Allow flexible file naming (not required to match class name)
ktlint_standard_filename = disabled

# Allow multiple consecutive blank lines for readability
# ktlint_standard_no-consecutive-blank-lines = disabled

# Allow blank line before closing brace in multi-line blocks
# ktlint_standard_no-blank-line-before-rbrace = disabled

# Allow blank lines in function declarations
# ktlint_standard_no-blank-lines-in-chained-method-calls = disabled

# Enforce trailing comma in multiline declarations (helps with cleaner diffs)
ktlint_standard_trailing-comma-on-call-site = enabled
ktlint_standard_trailing-comma-on-declaration-site = enabled

# Enforce final newline in files
ktlint_standard_final-newline = enabled

# Enforce consistent indentation
ktlint_standard_indent = enabled

# Enforce max line length (120 characters as per project standard)
ktlint_standard_max-line-length = enabled

# Enforce no consecutive blank lines
ktlint_standard_no-consecutive-blank-lines = enabled

# Enforce no trailing whitespace
ktlint_standard_no-trailing-spaces = enabled

# Enforce no unused imports
ktlint_standard_no-unused-imports = enabled

# Enforce string template formatting (no curly braces for simple variables)
ktlint_standard_string-template = enabled

# Enforce consistent spacing around keywords
ktlint_standard_keyword-spacing = enabled

# Enforce consistent spacing around operators
ktlint_standard_op-spacing = enabled

# Enforce consistent spacing in parentheses
ktlint_standard_paren-spacing = enabled

# Enforce consistent comma spacing
ktlint_standard_comma-spacing = enabled

# Enforce consistent colon spacing
ktlint_standard_colon-spacing = enabled

# Enforce consistent curly spacing
ktlint_standard_curly-spacing = enabled

# Enforce consistent brace spacing
ktlint_standard_brace-spacing = enabled

# Enforce consistent annotation formatting
ktlint_standard_annotation = enabled

# Enforce consistent modifier order (public/private, abstract, etc.)
ktlint_standard_modifier-order = enabled

# Enforce wrapping of multiline expressions
ktlint_standard_wrapping = enabled

# Allow consecutive comments
ktlint_standard_no-consecutive-comments = disabled

# Disable ktlint for generated code and build outputs
[{**/build/**,**/generated/**,**/.gradle/**,**/kotlin-js-store/**}]
ktlint = disabled

# Gradle build files (Kotlin DSL)
[*.gradle.kts]
indent_size = 4
indent_style = space

# JSON files
[*.json]
indent_size = 2
indent_style = space

# YAML files
[*.{yml,yaml}]
indent_size = 2
indent_style = space

# Markdown files
[*.md]
trim_trailing_whitespace = false
max_line_length = off

# XML files
[*.xml]
indent_size = 2
indent_style = space

